generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Project {
  id           String               @id @default(cuid())
  order        Int                  @default(0)
  image        String
  role         String
  isPublished  Boolean              @default(false)
  stack        String
  githubLink   String?
  previewLink  String?
  createdAt    DateTime             @default(now())
  updatedAt    DateTime             @updatedAt
  translations ProjectTranslation[]
  gallery      Gallery[]
}

model ProjectTranslation {
  id            String @id @default(cuid())
  projectId     String
  language      String @db.VarChar(8)
  title         String
  description   String @default("")
  editorContent String
  tag           String

  project Project @relation(fields: [projectId], references: [id], onDelete: Cascade)

  @@unique([projectId, language])
  @@index([projectId])
  @@index([language])
}

model Gallery {
  id        String  @id @default(cuid())
  order     Int     @default(0)
  url       String
  projectId String
  project   Project @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

model Skill {
  id        String    @id @default(cuid())
  order     Int       @default(0)
  image     String
  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt
}
